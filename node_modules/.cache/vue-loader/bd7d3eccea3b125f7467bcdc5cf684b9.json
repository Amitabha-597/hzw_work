{"remainingRequest":"F:\\Project325\\huizhan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Project325\\huizhan\\src\\views\\MyComponents\\personal.vue?vue&type=style&index=0&id=242848fa&scoped=true&lang=css&","dependencies":[{"path":"F:\\Project325\\huizhan\\src\\views\\MyComponents\\personal.vue","mtime":1590549794949},{"path":"F:\\Project325\\huizhan\\node_modules\\css-loader\\dist\\cjs.js","mtime":1589867256945},{"path":"F:\\Project325\\huizhan\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1589867259014},{"path":"F:\\Project325\\huizhan\\node_modules\\postcss-loader\\src\\index.js","mtime":1589850515041},{"path":"F:\\Project325\\huizhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1589867250303},{"path":"F:\\Project325\\huizhan\\node_modules\\vue-loader\\lib\\index.js","mtime":1589867259014}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouaW1hZ2Utd3JhcHBlcnsNCiAgcGFkZGluZzoxMHB4IDEwcHg7DQp9DQouaW5wdXRlcnsNCiAgd2lkdGg6MTAwcHg7DQogIGhlaWdodDoxMDBweDsNCiAgZGlzcGxheTpub25lOw0KfQ0KLmltZy13cmFwcGVyew0KICBkaXNwbGF5OmZsZXg7DQogIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogIGp1c3RpZnktY29udGVudDogbGVmdDsNCiAgZmxleC13cmFwOiB3cmFwOw0KfQ0KLmltYWdlLXdyYXBwZXIgLnVwbG9hZC1pY29uew0KICBtYXJnaW4tbGVmdDoxNHB4Ow0KICBtYXJnaW4tYm90dG9tOjEwcHg7DQogIC8qIG92ZXJmbG93OiBoaWRkZW47ICovDQogIHdpZHRoOjIwJTsNCiAgaGVpZ2h0OjcwcHg7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgYm9yZGVyOjFweCBzb2xpZCAjZGJkYmRiOw0KfQ0KLmltZy13cmFwcGVyIC5pdGVtew0KICBwb3NpdGlvbjpyZWxhdGl2ZTsNCiAgbWFyZ2luLWxlZnQ6MTRweDsNCiAgbWFyZ2luLWJvdHRvbToxMHB4Ow0KICAvKiBvdmVyZmxvdzogaGlkZGVuOyAqLw0KICB3aWR0aDoyMCU7DQogIGhlaWdodDo3MHB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQouaW1nLXdyYXBwZXIgLml0ZW0gLmRpcy1pbWFnZXsNCiAgd2lkdGg6MTAwJTsNCiAgaGVpZ2h0OjcwcHg7DQp9DQouaW1hZ2Utd3JhcHBlciAuaXRlbSAuZGVsZXRlIHsNCiAgZGlzcGxheTppbmxpbmUtYmxvY2s7DQogIHBvc2l0aW9uOmFic29sdXRlOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGJkYmRiOw0KICB3aWR0aDogMjBweDsNCiAgaGVpZ2h0OiAyMHB4Ow0KICBjb2xvcjogI2ZmZjsNCiAgZm9udC1zaXplOiAwLjhlbTsNCiAgYm9yZGVyLXJhZGl1czogNTAlOw0KICB0b3A6LTlweDsNCiAgcmlnaHQ6LTEwcHg7DQp9DQoNCi5pbWctd3JhcHBlciAuaXRlbSAuaGVuZ3sNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBkaXNwbGF5OmlubGluZS1ibG9jazsNCiAgd2lkdGg6MzBweDsNCiAgaGVpZ2h0OjNweDsNCiAgYmFja2dyb3VuZDojZGJkYmRiOw0KICBsZWZ0OiA1MCU7DQogIHRvcDogNTAlOw0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpOw0KfSANCi5pbWctd3JhcHBlciAuaXRlbSAuc3V7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgZGlzcGxheTppbmxpbmUtYmxvY2s7DQogIHdpZHRoOjNweDsNCiAgaGVpZ2h0OjMwcHg7DQogIGJhY2tncm91bmQ6I2RiZGJkYjsNCiAgbGVmdDogNTAlOw0KICB0b3A6IDUwJTsNCiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKTsNCn0gDQo="},{"version":3,"sources":["personal.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"personal.vue","sourceRoot":"src/views/MyComponents","sourcesContent":["<style scoped>\r\n.image-wrapper{\r\n  padding:10px 10px;\r\n}\r\n.inputer{\r\n  width:100px;\r\n  height:100px;\r\n  display:none;\r\n}\r\n.img-wrapper{\r\n  display:flex;\r\n  flex-direction: row;\r\n  justify-content: left;\r\n  flex-wrap: wrap;\r\n}\r\n.image-wrapper .upload-icon{\r\n  margin-left:14px;\r\n  margin-bottom:10px;\r\n  /* overflow: hidden; */\r\n  width:20%;\r\n  height:70px;\r\n  text-align: center;\r\n  border:1px solid #dbdbdb;\r\n}\r\n.img-wrapper .item{\r\n  position:relative;\r\n  margin-left:14px;\r\n  margin-bottom:10px;\r\n  /* overflow: hidden; */\r\n  width:20%;\r\n  height:70px;\r\n  text-align: center;\r\n}\r\n.img-wrapper .item .dis-image{\r\n  width:100%;\r\n  height:70px;\r\n}\r\n.image-wrapper .item .delete {\r\n  display:inline-block;\r\n  position:absolute;\r\n  background-color: #dbdbdb;\r\n  width: 20px;\r\n  height: 20px;\r\n  color: #fff;\r\n  font-size: 0.8em;\r\n  border-radius: 50%;\r\n  top:-9px;\r\n  right:-10px;\r\n}\r\n\r\n.img-wrapper .item .heng{\r\n  position: absolute;\r\n  display:inline-block;\r\n  width:30px;\r\n  height:3px;\r\n  background:#dbdbdb;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%,-50%);\r\n} \r\n.img-wrapper .item .su{\r\n  position: absolute;\r\n  display:inline-block;\r\n  width:3px;\r\n  height:30px;\r\n  background:#dbdbdb;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%,-50%);\r\n} \r\n</style>\r\n<template>\r\n  <div>\r\n    <div class=\"image-wrapper\">\r\n      <div  class=\"img-wrapper\">\r\n        <div class=\"item\" v-for=\"(item, index) in imgList\" :key=\"index\"><img :src=\"item\" class=\"dis-image\"><span class=\"delete\" @click=\"deleteImg(index)\">X</span></div>\r\n        <div class=\"item upload-icon\" @click=\"preSelect\" v-if=\"imgList.length < fileCount\">\r\n          <span class=\"heng\"></span>\r\n          <span class=\"su\"></span>\r\n        </div>\r\n      </div>\r\n      <input type=\"file\" class=\"inputer\" ref=\"inputRef\" @change=\"handleChange\" multiple=\"multiple\" >\r\n    </div>\r\n    <alert v-model=\"showError\" title=\"添加失败\">{{errorMsg}}</alert>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Alert } from 'vux';\r\nexport default {\r\n  components: {\r\n    Alert\r\n  },\r\n  name: 'imgUpload',\r\n  props: {\r\n    fileMaxSize: {\r\n      type: Number,\r\n      required: false,\r\n      default: 200\r\n    },\r\n    fileCount: {\r\n      type: Number,\r\n      required: false,\r\n      default: 1\r\n    },\r\n    fileType: {\r\n      type: String,\r\n      required: false,\r\n      default: 'image/png, image/jpeg'\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      imgList: [],\r\n      showError: false,\r\n      errorMsg: ''\r\n    };\r\n  },\r\n  methods: {\r\n    preSelect () {\r\n      this.$refs.inputRef.click();\r\n    },\r\n\r\n    handleChange (e) {\r\n      /* eslint-disable */\r\n      let BreakException = {};\r\n\r\n      let file = e.currentTarget.files;\r\n      if (file.length > this.fileCount || this.imgList.length > this.fileCount) {\r\n        this.showError = true;\r\n        this.errorMsg = '最多上传' + this.fileCount + '张图片';\r\n        return;\r\n      }\r\n      try {\r\n        _.forEach(file, element => {\r\n          if (!element.type || this.fileType.indexOf(element.type) === -1) {\r\n            this.showError = true;\r\n            this.errorMsg = '图片类型错误';\r\n            throw BreakException;\r\n          } else if (element.size > this.fileMaxSize * 1024) {\r\n            this.showError = true;\r\n            this.errorMsg = '图片太大请重新上传';\r\n            throw BreakException;\r\n          }\r\n        });\r\n      } catch (error) {\r\n        if (e !== BreakException) throw e;\r\n      }\r\n\r\n      _.forEach(file, element => {\r\n        let freader = new FileReader();\r\n        freader.readAsDataURL(element);\r\n        freader.onload = (e) => {\r\n          this.imgList.push(e.target.result)\r\n        };\r\n      });\r\n    },\r\n\r\n    deleteImg (ind) {\r\n      this.imgList.splice(ind,1);\r\n    }\r\n  }\r\n};\r\n</script>"]}]}